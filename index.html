<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title data-i18n="head.title">Upscuits | Uptime Biscuits</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <main>
            <div class="jumbotron">
                <h1><i class="fa fa-tachometer"></i> StrathTech Status Page</h1>

                <p data-i18n="head.hero">
                    A quick overview of StrathTech's current service status.
                </p>
            </div>

            <!-- progress bar of loaded servers -->
            <div class="progress">
                <div class="progress-bar progress-bar-info loading bar" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                    <span class="sr-only"></span>
                </div>
            </div>

            <!-- legenda of graphs -->
            <div class="row center-align">
                <div class="col m2 offset-m2">
                    <div class="donut">
                        <div class="title" data-i18n="times.Last 24 hr">Last 24 hr</div>
                    </div>
                </div>
                <div class="col m2">
                    <div class="donut">
                        <div class="title" data-i18n="times.Last 7 days">Last 7 days</div>
                    </div>
                </div>
                <div class="col m2">
                    <div class="donut">
                        <div class="title" data-i18n="times.Last 30 days">Last 30 days</div>
                    </div>
                </div>
                <div class="col m2">
                    <div class="donut">
                        <div class="title" data-i18n="times.Last year">Last year</div>
                    </div>
                </div>
                <div class="col m2">
                    <div class="donut">
                        <div class="title"  data-i18n="times.All time">All time</div>
                    </div>
                </div>
            </div>
            <div id="server-container"></div>

            <!-- legenda of graphs (again) -->
            <div class="row center-align">
                <div class="col m2 offset-m2">
                    <div class="donut">
                        <div class="title" data-i18n="times.Last 24 hr">Last 24 hr</div>
                    </div>
                </div>
                <div class="col m2">
                    <div class="donut">
                        <div class="title" data-i18n="times.Last 7 days">Last 7 days</div>
                    </div>
                </div>
                <div class="col m2">
                    <div class="donut">
                        <div class="title" data-i18n="times.Last 30 days">Last 30 days</div>
                    </div>
                </div>
                <div class="col m2">
                    <div class="donut">
                        <div class="title" data-i18n="times.Last year">Last year</div>
                    </div>
                </div>
                <div class="col m2">
                    <div class="donut">
                        <div class="title"  data-i18n="times.All time">All time</div>
                    </div>
                </div>
            </div>

            <!-- count down timer + progress bar -->
            <div class="col-md-2">
                <i class="icon-refresh"></i> <span id="last-update"></span>
            </div>
            <div class="progress">
                <div class="progress-bar progress-bar-info countdown determinate" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                    <span class="sr-only"></span>
                </div>
            </div>
        </main>
    </div>
    <footer class="page-footer blue-grey lighten-2">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text"><i class="icon-dashboard icon-red"></i> Upscuits</a></h5>
                    <p class="grey-text text-lighten-4">At this page you can see the status of different servers/ apps.</p>
                    <p class="grey-text text-lighten-4">Each gauge shows the uptime of last day, week, month, year and all time.</p>
                    <p class="grey-text text-lighten-4">The page automatically refreshes</p></p>
                </div>
                <div class="col l4 offset-l2 s12 hide-on-med-and-down">
                    <h5 class="white-text">Links</h5>
                    <ul class="flow-text">
                        <li><a class="grey-text text-lighten-3" href="https://twitter.com/StrathTech"><i class="fa fa-twitter"></i> Twitter</a></li>
                        <li><a class="grey-text text-lighten-3" href="https://facebook.com/StrathTech"><i class="fa fa-facebook-official"></i> Facebook</a></li>
                        <li><a class="grey-text text-lighten-3" href="https://www.strathtech.co.uk"><i class="fa fa-home"></i> StrathTech Home</a></li>
                        <li><a class="grey-text text-lighten-3" href="https://github.com/StrathTech/Status"><i class="fa fa-github"></i> Source</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                <div class="row">
                    <div class="col s8">Â© 2016 StrathTech</div>
                    <div class="col s4 right-align"><i class="fa fa-language"></i> <a class="grey-text text-lighten-3" href="?lang=en">EN</a>
                    <a class="grey-text text-lighten-3" href="?lang=fr">FR</a>
                    <a class="grey-text text-lighten-3" href="?lang=nl">NL</a>
                    <a class="grey-text text-lighten-3" href="?lang=zh">ZH</a>
                    <a class="grey-text text-lighten-3" href="?lang=el">GR</a></div>
                </div>
            </div>
        </div>
    </footer>

    <!-- mustache template for server row -->
    <script type="template/mustache" id="server-template">
        <div class="well {{alert}}">
            <div class="row card top-pad">
                <div class="col m2">
                    <h2 class="flow-text">
                        {{friendlyname}}
                        <span class="box box-{{label}}"><i class="{{statusicon}}"></i></span>
                    </h2>
                    <a class="waves-effect waves-light btn modal-trigger" onclick="$('#modal{{id}}').openModal();" href="javascript:void(0)">Log</a>
                </div>
                {{#charts}}
                <div class="col m2 s6 graphs">
                    <div class="valign-wrapper">
                        <div class="valign donut center-align">
                            <canvas width="90" height="90" uptime="{{uptime}}"></canvas>
                            <div class="uptime">
                                {{uptime}}%
                            </div>
                        </div>
                    </div>
                </div>
                {{/charts}}
            </div>
        </div>
        <!-- Modal Structure -->
        <div id="modal{{id}}" class="modal bottom-sheet">
            <div class="modal-content">
                <ul class="list-unstyled flow-text">
                    {{#log}}
                        <li>
                            <span class="box box-{{labeltype}}"><i class="fa fa-{{typeicon}}"></i></span>
                            &nbsp;{{datetime}} 
                        </li>
                    {{/log}}
                </ul>
            </div>
            <!-- <div class="modal-footer">
                <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
            </div> -->
        </div>
    </script>

    <!-- mustache template for no monitors found -->
    <script type="template/mustache" id="no-monitors-template">
        <div class="alert alert-danger">
            <strong data-i18n="no-api.Burned biscuits">Burned biscuits!</strong> <span data-i18n="no-api.content1">Seems like you forgot one ingredient: the Monitor API keys in</span> <a href="js/config.js">js/config.js</a>.<br>
            <span data-i18n="no-api.content2">Did you follow all the steps in the recipe?</span> <a href="https://github.com/digibart/upscuits/blob/master/readme.md" data-i18n="no-api.readme">readme</a>
        </div>

    </script>

    <!-- Compiled and minified JavaScript -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script defer async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>

    <script src="js/vendors.min.js?rel=1.4.4" type="text/javascript"></script>
    <script src="js/config.js?rel=1.4.4" type="text/javascript"></script>
    <script src="js/upscuits.js?rel=1.4.4" type="text/javascript"></script>
    <script type="text/javascript">
        jQuery(document).ready(myApp.dashboard.init);
    </script>

</body>
</html>
